<!DOCTYPE html>
<html>
<head>
<title>Watch Video</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<meta property="og:title" content="Watch Video">
<meta property="og:description" content="Watch this video now">
<meta property="og:type" content="video.other">
<meta property="og:site_name" content="DarkStream">

<link rel="preconnect" href="https://res.cloudinary.com">

<style>
body{margin:0;font-family:sans-serif;background:#0d0d0d;color:#fff}
.container{max-width:900px;margin:auto;padding:15px}
.adbox{text-align:center;margin:20px 0}
button,a{border-radius:6px}
</style>
</head>

<body>

<header style="padding:12px;border-bottom:1px solid #222;display:flex;justify-content:space-between;">
  <a href="index.html" style="color:#ff0000;font-size:20px;text-decoration:none;">DarkStream</a>
  <a href="index.html" style="color:#fff;text-decoration:none;">üè† Home</a>
</header>

<div class="container">

<!-- DESKTOP TOP AD ONLY -->
<div class="adbox" id="topAd" style="display:none;">
<script async data-cfasync="false"
src="https://pl28509871.effectivegatecpm.com/89927707a9add77c81162243cfa9c89b/invoke.js"></script>
<div id="container-89927707a9add77c81162243cfa9c89b"></div>
</div>

<!-- VIDEO -->
<div style="background:#000;border-radius:10px;overflow:hidden;border:1px solid #333;">
  <video id="mainPlayer" controls playsinline
  style="width:100%;aspect-ratio:16/9;"></video>
</div>

<h1 id="vidTitle" style="margin:15px 0;font-size:22px;">Loading...</h1>

<div style="display:flex;gap:10px;">
  <a id="downloadBtn" href="#"
     style="flex:1;background:#cc0000;padding:10px;text-align:center;color:#fff;text-decoration:none;">
    ‚¨á Download
  </a>
  <button onclick="shareVideo()"
     style="flex:1;background:#0088cc;border:none;color:#fff;">
    üîó Share
  </button>
</div>

<!-- BELOW VIDEO AD (ALL DEVICES ‚Äì ONLY 1 AD) -->
<div class="adbox" id="belowAd" style="display:none;">
<script>
atOptions={
 'key':'9419cc143f44d80cac2f52f79ceda29d',
 'format':'iframe',
 'height':250,
 'width':300,
 'params':{}
};
</script>
<script src="https://www.highperformanceformat.com/9419cc143f44d80cac2f52f79ceda29d/invoke.js"></script>
</div>

</div>

<script>
function isMobile(){
 return /Android|iPhone|iPad|iPod/i.test(navigator.userAgent);
}

function getParam(p){
 return new URLSearchParams(location.search).get(p);
}

window.onload=function(){
 const v=getParam('v');
 const t=getParam('t');

 if(!v || !v.startsWith("https://")){
  document.body.innerHTML="<h2 style='text-align:center;margin-top:50px;'>Video Not Found</h2>";
  return;
 }

 mainPlayer.src=v;
 downloadBtn.href=v;

 if(t){
  vidTitle.innerText=decodeURIComponent(t);
  document.title=decodeURIComponent(t);
 }

 // ADS LOGIC
 if(!isMobile()){
  document.getElementById("topAd").style.display="block";
 }

 // Load below ad AFTER video ready
 mainPlayer.onloadeddata=function(){
  document.getElementById("belowAd").style.display="block";
 };

 // Autoplay ONLY desktop
 if(!isMobile()){
  mainPlayer.muted=true;
  mainPlayer.play();
 }
};

function shareVideo(){
 if(navigator.share){
  navigator.share({title:document.title,url:location.href});
 }else{
  navigator.clipboard.writeText(location.href);
  alert("Link copied");
 }
}
</script>

<!-- POPUNDER ‚Äì DESKTOP ONLY -->
<script>
if(!/Android|iPhone|iPad|iPod/i.test(navigator.userAgent)){
 var s=document.createElement("script");
 s.src="https://pl28509879.effectivegatecpm.com/0e/57/a0/0e57a0d2b62e2772e4b19c701328e94e.js";
 document.body.appendChild(s);
}
</script>

</body>
</html>
