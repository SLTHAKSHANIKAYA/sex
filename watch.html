<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Watch Video</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta property="og:title" content="Watch Video">
<meta property="og:description" content="Watch this video now">
<meta property="og:type" content="video.other">
<meta property="og:site_name" content="DarkStream">
<style>
body {
  margin: 0;
  background: #0d0d0d;
  color: #fff;
  font-family: sans-serif;
}

header {
  padding: 12px;
  border-bottom: 1px solid #222;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.container {
  max-width: 1200px;
  margin: auto;
  padding: 15px;
}

/* Top Ad - Before video */
.top-ad {
  text-align: center;
  margin: 15px auto;
  padding: 10px;
  max-width: 728px;
  min-height: 90px;
  background: #1a1a1a;
  border-radius: 8px;
  border: 1px solid #333;
}

.video-layout {
  display: flex;
  gap: 15px;
  justify-content: center;
  margin: 20px 0;
}

.video-wrap {
  flex: 1;
  max-width: 900px;
  background: #000;
  border-radius: 10px;
  overflow: hidden;
  border: 1px solid #333;
}

video {
  width: 100%;
  aspect-ratio: 16/9;
  display: block;
}

.side-ad {
  width: 160px;
  min-height: 600px;
  text-align: center;
}

.side-ad-box {
  background: #1a1a1a;
  border-radius: 8px;
  border: 1px solid #333;
  padding: 10px;
  margin-bottom: 15px;
  min-height: 250px;
}

/* Below video ads */
.below-video-ad {
  text-align: center;
  margin: 20px auto;
  padding: 10px;
  max-width: 728px;
  min-height: 90px;
  background: #1a1a1a;
  border-radius: 8px;
  border: 1px solid #333;
}

.inline-ad {
  text-align: center;
  margin: 20px auto;
  padding: 10px;
  max-width: 320px;
  min-height: 250px;
  background: #1a1a1a;
  border-radius: 8px;
  border: 1px solid #333;
}

/* Sticky bottom ad for mobile */
.sticky-bottom-ad {
  display: none;
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  background: #1a1a1a;
  padding: 8px;
  text-align: center;
  border-top: 2px solid #333;
  z-index: 1000;
  box-shadow: 0 -2px 10px rgba(0,0,0,0.5);
}

.close-ad {
  position: absolute;
  top: 4px;
  right: 8px;
  background: #666;
  color: #fff;
  border: none;
  border-radius: 50%;
  width: 22px;
  height: 22px;
  font-size: 14px;
  cursor: pointer;
  line-height: 1;
  font-weight: bold;
}

.close-ad:hover {
  background: #888;
}

.title-section {
  text-align: center;
  margin: 20px 0;
  max-width: 900px;
  margin-left: auto;
  margin-right: auto;
}

.action-buttons {
  display: flex;
  gap: 10px;
  max-width: 900px;
  margin: 20px auto;
}

/* MOBILE */
@media(max-width: 900px) {
  .video-layout {
    flex-direction: column;
  }
  
  .side-ad {
    display: none;
  }
  
  .sticky-bottom-ad {
    display: block;
  }

  .top-ad,
  .below-video-ad {
    max-width: 100%;
  }
}
</style>
</head>
<body>
<header>
  <a href="index.html" style="color:#ff0000;font-size:20px;text-decoration:none;font-weight:bold;">DarkStream</a>
  <a href="index.html" style="color:#fff;text-decoration:none;">üè† Home</a>
</header>

<div class="container">
  <!-- TOP AD - BEFORE VIDEO (Desktop: 728x90, Mobile: 320x50) -->
  <div class="top-ad" id="topAd"></div>

  <!-- VIDEO + SIDE ADS -->
  <div class="video-layout">
    <!-- LEFT SIDE AD (Desktop Only) -->
    <div class="side-ad">
      <div class="side-ad-box" id="leftAd1"></div>
      <div class="side-ad-box" id="leftAd2"></div>
    </div>
    
    <!-- VIDEO -->
    <div class="video-wrap">
      <video id="player" controls playsinline preload="metadata"></video>
    </div>
    
    <!-- RIGHT SIDE AD (Desktop Only) -->
    <div class="side-ad">
      <div class="side-ad-box" id="rightAd1"></div>
      <div class="side-ad-box" id="rightAd2"></div>
    </div>
  </div>

  <!-- TITLE SECTION -->
  <div class="title-section">
    <h1 id="title" style="margin:15px 0;">Loading...</h1>
  </div>
  
  <!-- ACTION BUTTONS -->
  <div class="action-buttons">
    <a id="downloadBtn" href="#" style="flex:1;background:#cc0000;padding:12px;text-align:center;color:#fff;text-decoration:none;border-radius:5px;font-weight:bold;">‚¨á Download</a>
    <button onclick="share()" style="flex:1;background:#0088cc;border:none;color:#fff;padding:12px;cursor:pointer;border-radius:5px;font-weight:bold;">üîó Share</button>
  </div>
  
  <!-- BELOW VIDEO AD 1 (Desktop: 728x90, Mobile: 320x100) -->
  <div class="below-video-ad" id="belowVideoAd1"></div>

  <!-- INLINE AD (Mobile & Desktop: 300x250) -->
  <div class="inline-ad" id="inlineAd1"></div>

  <!-- BELOW VIDEO AD 2 (Desktop: 728x90, Mobile: 320x100) -->
  <div class="below-video-ad" id="belowVideoAd2"></div>
</div>

<!-- STICKY BOTTOM AD (Mobile Only - 320x50) -->
<div class="sticky-bottom-ad" id="stickyAd">
  <button class="close-ad" onclick="closeStickyAd()">√ó</button>
  <div id="stickyAdContent"></div>
</div>

<script>
function getParam(p) {
  return new URLSearchParams(location.search).get(p);
}

let adsLoaded = false;
let stickyAdClosed = false;

window.onload = function() {
  const v = getParam("v");
  const t = getParam("t");
  
  if (!v || !v.startsWith("https://")) {
    document.body.innerHTML = "<h2 style='text-align:center;margin-top:50px;color:#fff;'>Video Not Found</h2>";
    return;
  }
  
  player.src = v;
  downloadBtn.href = v;
  
  if (t) {
    title.innerText = decodeURIComponent(t);
    document.title = decodeURIComponent(t);
  } else {
    title.innerText = "Watch Video";
  }
  
  // Load top ad immediately for initial monetization
  loadTopAd();
  
  // Load remaining ads when video starts playing
  player.addEventListener("play", function() {
    if (adsLoaded) return;
    adsLoaded = true;
    loadAllAds();
  }, { once: true });
  
  // Also load ads if user interacts but doesn't play (after 3 seconds)
  setTimeout(function() {
    if (!adsLoaded) {
      loadAllAds();
      adsLoaded = true;
    }
  }, 3000);
};

function loadTopAd() {
  // Top banner ad (visible immediately)
  const topScript1 = document.createElement('script');
  topScript1.innerHTML = `
    atOptions = {
      'key' : '9419cc143f44d80cac2f52f79ceda29d',
      'format' : 'iframe',
      'height' : 90,
      'width' : 728,
      'params' : {}
    };
  `;
  topAd.appendChild(topScript1);
  
  const topScript2 = document.createElement('script');
  topScript2.src = "https://www.highperformanceformat.com/9419cc143f44d80cac2f52f79ceda29d/invoke.js";
  topAd.appendChild(topScript2);
}

function loadAllAds() {
  const isMobile = window.innerWidth <= 900;
  
  // BELOW VIDEO AD 1
  const below1Script1 = document.createElement('script');
  below1Script1.innerHTML = `
    atOptions = {
      'key' : '9419cc143f44d80cac2f52f79ceda29d',
      'format' : 'iframe',
      'height' : ${isMobile ? 100 : 90},
      'width' : ${isMobile ? 320 : 728},
      'params' : {}
    };
  `;
  belowVideoAd1.appendChild(below1Script1);
  
  const below1Script2 = document.createElement('script');
  below1Script2.src = "https://www.highperformanceformat.com/9419cc143f44d80cac2f52f79ceda29d/invoke.js";
  belowVideoAd1.appendChild(below1Script2);
  
  // INLINE AD (300x250)
  const inlineScript1 = document.createElement('script');
  inlineScript1.innerHTML = `
    atOptions = {
      'key' : '9419cc143f44d80cac2f52f79ceda29d',
      'format' : 'iframe',
      'height' : 250,
      'width' : 300,
      'params' : {}
    };
  `;
  inlineAd1.appendChild(inlineScript1);
  
  const inlineScript2 = document.createElement('script');
  inlineScript2.src = "https://www.highperformanceformat.com/9419cc143f44d80cac2f52f79ceda29d/invoke.js";
  inlineAd1.appendChild(inlineScript2);
  
  // BELOW VIDEO AD 2
  const below2Script1 = document.createElement('script');
  below2Script1.innerHTML = `
    atOptions = {
      'key' : '9419cc143f44d80cac2f52f79ceda29d',
      'format' : 'iframe',
      'height' : ${isMobile ? 100 : 90},
      'width' : ${isMobile ? 320 : 728},
      'params' : {}
    };
  `;
  belowVideoAd2.appendChild(below2Script1);
  
  const below2Script2 = document.createElement('script');
  belowVideoAd2.src = "https://www.highperformanceformat.com/9419cc143f44d80cac2f52f79ceda29d/invoke.js";
  belowVideoAd2.appendChild(below2Script2);
  
  if (!isMobile) {
    // LEFT SIDE AD 1 (160x600)
    const leftScript1 = document.createElement('script');
    leftScript1.async = true;
    leftScript1.setAttribute('data-cfasync', 'false');
    leftScript1.src = "https://pl28509871.effectivegatecpm.com/89927707a9add77c81162243cfa9c89b/invoke.js";
    leftAd1.appendChild(leftScript1);
    
    const leftDiv1 = document.createElement('div');
    leftDiv1.id = "container-89927707a9add77c81162243cfa9c89b";
    leftAd1.appendChild(leftDiv1);
    
    // LEFT SIDE AD 2
    const leftScript2 = document.createElement('script');
    leftScript2.innerHTML = `
      atOptions = {
        'key' : '9419cc143f44d80cac2f52f79ceda29d',
        'format' : 'iframe',
        'height' : 250,
        'width' : 160,
        'params' : {}
      };
    `;
    leftAd2.appendChild(leftScript2);
    
    const leftScript2b = document.createElement('script');
    leftScript2b.src = "https://www.highperformanceformat.com/9419cc143f44d80cac2f52f79ceda29d/invoke.js";
    leftAd2.appendChild(leftScript2b);
    
    // RIGHT SIDE AD 1
    const rightScript1 = document.createElement('script');
    rightScript1.src = "https://pl28509879.effectivegatecpm.com/0e/57/a0/0e57a0d2b62e2772e4b19c701328e94e.js";
    rightAd1.appendChild(rightScript1);
    
    // RIGHT SIDE AD 2
    const rightScript2 = document.createElement('script');
    rightScript2.innerHTML = `
      atOptions = {
        'key' : '9419cc143f44d80cac2f52f79ceda29d',
        'format' : 'iframe',
        'height' : 250,
        'width' : 160,
        'params' : {}
      };
    `;
    rightAd2.appendChild(rightScript2);
    
    const rightScript2b = document.createElement('script');
    rightScript2b.src = "https://www.highperformanceformat.com/9419cc143f44d80cac2f52f79ceda29d/invoke.js";
    rightAd2.appendChild(rightScript2b);
  } else {
    // STICKY BOTTOM AD (Mobile Only - 320x50)
    if (!stickyAdClosed) {
      const stickyScript1 = document.createElement('script');
      stickyScript1.innerHTML = `
        atOptions = {
          'key' : '9419cc143f44d80cac2f52f79ceda29d',
          'format' : 'iframe',
          'height' : 50,
          'width' : 320,
          'params' : {}
        };
      `;
      stickyAdContent.appendChild(stickyScript1);
      
      const stickyScript2 = document.createElement('script');
      stickyScript2.src = "https://www.highperformanceformat.com/9419cc143f44d80cac2f52f79ceda29d/invoke.js";
      stickyAdContent.appendChild(stickyScript2);
    }
  }
}

function closeStickyAd() {
  document.getElementById('stickyAd').style.display = 'none';
  stickyAdClosed = true;
}

function share() {
  if (navigator.share) {
    navigator.share({ 
      title: document.title, 
      url: location.href 
    }).catch(() => {});
  } else {
    navigator.clipboard.writeText(location.href).then(() => {
      alert("Link copied to clipboard!");
    }).catch(() => {
      alert("Unable to copy link");
    });
  }
}
</script>
</body>
</html>
