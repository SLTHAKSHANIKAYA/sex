<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Watch Video</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<meta property="og:title" content="Watch Video">
<meta property="og:description" content="Watch this video now">
<meta property="og:type" content="video.other">
<meta property="og:site_name" content="DarkStream">

<link rel="preconnect" href="https://res.cloudinary.com">

<style>
body{
  margin:0;
  font-family:sans-serif;
  background:#0d0d0d;
  color:#fff;
}

header{
  padding:12px;
  border-bottom:1px solid #222;
  display:flex;
  justify-content:space-between;
}

.container{
  max-width:1200px;
  margin:auto;
  padding:15px;
}

/* VIDEO + SIDE ADS */
.video-layout{
  display:flex;
  gap:15px;
  justify-content:center;
}

.video-wrap{
  flex:1;
  max-width:850px;
  background:#000;
  border-radius:10px;
  overflow:hidden;
  border:1px solid #333;
}

.side-ad{
  width:160px;
  text-align:center;
}

.adbox{
  text-align:center;
  margin:20px 0;
}

/* MOBILE & TABLET */
@media (max-width:900px){
  .video-layout{
    flex-direction:column;
  }
  .side-ad{
    display:none;
  }
}

/* DESKTOP ONLY */
.desktop-only{
  display:block;
}

@media (max-width:900px){
  .desktop-only{
    display:none;
  }
}

button,a{
  border-radius:6px;
  font-size:16px;
}
</style>
</head>

<body>

<header>
  <a href="index.html" style="color:#ff0000;font-size:20px;text-decoration:none;">DarkStream</a>
  <a href="index.html" style="color:#fff;text-decoration:none;">üè† Home</a>
</header>

<div class="container">

<!-- ================= TOP AD (DESKTOP ONLY) ================= -->
<div class="adbox desktop-only">
<script async data-cfasync="false"
src="https://pl28509871.effectivegatecpm.com/89927707a9add77c81162243cfa9c89b/invoke.js"></script>
<div id="container-89927707a9add77c81162243cfa9c89b"></div>
</div>
<!-- ========================================================= -->

<!-- VIDEO + SIDE ADS -->
<div class="video-layout">

  <!-- LEFT AD (DESKTOP) -->
  <div class="side-ad desktop-only">
    <!-- side ad code here if needed -->
  </div>

  <!-- VIDEO -->
  <div class="video-wrap">
    <video id="mainPlayer" controls playsinline
      style="width:100%;aspect-ratio:16/9;"></video>
  </div>

  <!-- RIGHT AD (DESKTOP) -->
  <div class="side-ad desktop-only">
    <!-- side ad code here if needed -->
  </div>

</div>

<h1 id="vidTitle" style="margin:15px 0;font-size:22px;">Loading...</h1>

<div style="display:flex;gap:10px;">
  <a id="downloadBtn" href="#"
     style="flex:1;background:#cc0000;padding:10px;text-align:center;color:#fff;text-decoration:none;">
    ‚¨á Download
  </a>
  <button onclick="shareVideo()"
     style="flex:1;background:#0088cc;border:none;color:#fff;">
    üîó Share
  </button>
</div>

<!-- ================= BELOW VIDEO AD (SAFE ‚Äì ALL DEVICES) ================= -->
<div class="adbox">
<script>
  atOptions = {
    'key' : '9419cc143f44d80cac2f52f79ceda29d',
    'format' : 'iframe',
    'height' : 250,
    'width' : 300,
    'params' : {}
  };
</script>
<script src="https://www.highperformanceformat.com/9419cc143f44d80cac2f52f79ceda29d/invoke.js"></script>
</div>
<!-- ===================================================================== -->

</div>

<!-- ================= POPUNDER (DESKTOP ONLY) ================= -->
<script>
if(!/Android|iPhone|iPad|iPod/i.test(navigator.userAgent)){
  var s=document.createElement("script");
  s.src="https://pl28509879.effectivegatecpm.com/0e/57/a0/0e57a0d2b62e2772e4b19c701328e94e.js";
  document.body.appendChild(s);
}
</script>
<!-- =========================================================== -->

<script>
function isMobile(){
  return /Android|iPhone|iPad|iPod/i.test(navigator.userAgent);
}

function getParam(p){
  return new URLSearchParams(location.search).get(p);
}

window.onload=function(){
  const v=getParam('v');
  const t=getParam('t');

  if(!v){
    document.body.innerHTML="<h2 style='text-align:center;margin-top:50px;'>Video Not Found</h2>";
    return;
  }

  if(!v.startsWith("https://")){
    alert("Invalid video source");
    return;
  }

  mainPlayer.src=v;
  downloadBtn.href=v;

  /* MOBILE SAFE PLAY */
  if(isMobile()){
    mainPlayer.autoplay=false;
    mainPlayer.muted=false;
  }

  if(t){
    vidTitle.innerText=decodeURIComponent(t);
    document.title=decodeURIComponent(t);
  }

  /* üö´ BLOCK MOBILE AD REDIRECT ON VIDEO TAP */
  if(isMobile()){
    document.addEventListener("click",function(e){
      if(e.target.closest("video")) return;
      e.stopPropagation();
    },true);
  }
};

function shareVideo(){
  if(navigator.share){
    navigator.share({title:document.title,url:location.href});
  }else{
    navigator.clipboard.writeText(location.href);
    alert("Link copied");
  }
}
</script>

</body>
</html>
