<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Watch Video</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<meta property="og:title" content="Watch Video">
<meta property="og:description" content="Watch this video now">
<meta property="og:type" content="video.other">
<meta property="og:site_name" content="DarkStream">

<style>
body{
  margin:0;
  background:#0d0d0d;
  color:#fff;
  font-family:sans-serif;
}

header{
  padding:12px;
  border-bottom:1px solid #222;
  display:flex;
  justify-content:space-between;
}

.container{
  max-width:1200px;
  margin:auto;
  padding:15px;
}

.video-layout{
  display:flex;
  gap:15px;
  justify-content:center;
}

.video-wrap{
  flex:1;
  max-width:900px;
  background:#000;
  border-radius:10px;
  overflow:hidden;
  border:1px solid #333;
}

video{
  width:100%;
  aspect-ratio:16/9;
}

.side-ad{
  width:160px;
  min-height:600px;
  text-align:center;
}

.adbox{
  text-align:center;
  margin:20px auto;
  max-width:320px;
}

/* MOBILE */
@media(max-width:900px){
  .video-layout{
    flex-direction:column;
  }
  .side-ad{
    display:none;
  }
}
</style>
</head>

<body>

<header>
  <a href="index.html" style="color:#ff0000;font-size:20px;text-decoration:none;">DarkStream</a>
  <a href="index.html" style="color:#fff;text-decoration:none;">üè† Home</a>
</header>

<div class="container">

<!-- VIDEO + SIDE ADS -->
<div class="video-layout">

  <!-- LEFT SIDE AD -->
  <div class="side-ad" id="leftAd"></div>

  <!-- VIDEO -->
  <div class="video-wrap">
    <video id="player" controls playsinline preload="metadata"></video>
  </div>

  <!-- RIGHT SIDE AD -->
  <div class="side-ad" id="rightAd"></div>

</div>

<h1 id="title" style="text-align:center;margin:15px 0;">Loading...</h1>

<div style="display:flex;gap:10px;max-width:900px;margin:auto;">
  <a id="downloadBtn" href="#" style="flex:1;background:#cc0000;padding:10px;text-align:center;color:#fff;text-decoration:none;">‚¨á Download</a>
  <button onclick="share()" style="flex:1;background:#0088cc;border:none;color:#fff;">üîó Share</button>
</div>

<!-- BELOW VIDEO AD -->
<div class="adbox" id="belowAd"></div>

</div>

<script>
function getParam(p){
  return new URLSearchParams(location.search).get(p);
}

window.onload = function(){

  const v = getParam("v");
  const t = getParam("t");

  if(!v || !v.startsWith("https://")){
    document.body.innerHTML="<h2 style='text-align:center;margin-top:50px;'>Video Not Found</h2>";
    return;
  }

  player.src = v;
  downloadBtn.href = v;

  if(t){
    title.innerText = decodeURIComponent(t);
    document.title = decodeURIComponent(t);
  }

  /* LOAD ADS AFTER VIDEO START */
  player.addEventListener("play", function(){

    /* BELOW VIDEO AD */
    if(!belowAd.innerHTML){
      belowAd.innerHTML = `
<script>
atOptions = {
  'key' : '9419cc143f44d80cac2f52f79ceda29d',
  'format' : 'iframe',
  'height' : 250,
  'width' : 300
};
<\/script>
<script src="https://www.highperformanceformat.com/9419cc143f44d80cac2f52f79ceda29d/invoke.js"><\/script>
`;
    }

    /* LEFT SIDE AD */
    if(!leftAd.innerHTML && window.innerWidth > 900){
      leftAd.innerHTML = `
<script async data-cfasync="false"
src="https://pl28509871.effectivegatecpm.com/LEFT123/invoke.js"><\/script>
<div id="container-LEFT123"><\/div>
`;
    }

    /* RIGHT SIDE AD */
    if(!rightAd.innerHTML && window.innerWidth > 900){
      rightAd.innerHTML = `
<script async data-cfasync="false"
src="https://pl28509871.effectivegatecpm.com/RIGHT456/invoke.js"><\/script>
<div id="container-RIGHT456"><\/div>
`;
    }

  });
};

function share(){
  if(navigator.share){
    navigator.share({title:document.title,url:location.href});
  }else{
    navigator.clipboard.writeText(location.href);
    alert("Link copied");
  }
}
</script>

</body>
</html>
